{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-rewrite-frontend-src-screens-auth-loginscreen-tsx-to-eliminate-the-infinite-loop-the-se-connecter-button-must-call-go-role-directly-after-a-brief-loading-state-no-canister-dependency-no-async-block-that-re-renders-indefinitely-the-button-must-always-be-clickable-never-disabled-by-default-and-the-loading-state-must-auto-clear-after-800ms-if-internet-identity-is-unavailable-the-screen-must-never-redirect-back-to-itself",
      "featureTitle": "Rewrite frontend/src/screens/auth/LoginScreen.tsx to eliminate the infinite loop: the 'SE CONNECTER' button must call go('role') directly after a brief loading state (no canister dependency, no async block that re-renders indefinitely). The button must always be clickable, never disabled by default, and the loading state must auto-clear after 800ms if Internet Identity is unavailable. The screen must never redirect back to itself.",
      "files": [
        "frontend/src/screens/auth/LoginScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-184"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-state-useappstate-ts-to-guarantee-1-initialstate-screen-is-always-login-never-otp-or-any-other-value-2-initialstate-role-is-always-null-3-the-go-function-has-no-conditional-guards-it-always-sets-state-screen-to-the-target-value-unconditionally-4-all-fields-introduced-in-prior-requirements-userlat-userlng-locationactive-bookingcreneau-bookingadresse-bookingville-bookingphone-bookingnote-bookingid-modalopen-serviceeditoropen-editingservice-adminauthenticated-are-present-with-correct-defaults-null-false-5-showtoast-auto-removes-after-duration-and-enforces-a-max-of-4-toasts-oldest-removed-first",
      "featureTitle": "Rewrite frontend/src/state/useAppState.ts to guarantee: (1) initialState.screen is always 'login', never 'otp' or any other value; (2) initialState.role is always null; (3) the go() function has no conditional guards — it always sets state.screen to the target value unconditionally; (4) all fields introduced in prior requirements (userLat, userLng, locationActive, bookingCreneau, bookingAdresse, bookingVille, bookingPhone, bookingNote, bookingId, modalOpen, serviceEditorOpen, editingService, adminAuthenticated) are present with correct defaults (null/false); (5) showToast auto-removes after duration and enforces a max of 4 toasts (oldest removed first).",
      "files": [
        "frontend/src/state/useAppState.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-185"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-app-tsx-with-a-complete-production-ready-router-1-outer-wrapper-position-fixed-inset-0-background-050507-overflow-hidden-2-on-mobile-899px-inner-container-max-width-430px-width-100-height-100-margin-0-auto-display-flex-flex-direction-column-overflow-hidden-position-relative-3-on-desktop-900px-inner-container-max-width-1100px-two-column-css-grid-sidebar-220px-left-main-content-right-4-renderscreen-switch-covers-all-28-cases-with-zero-fallthrough-login-role-otp-explorer-fiche-pro-booking-1-booking-2-booking-3-booking-4-booking-5-live-status-client-reservations-client-alertes-client-profil-pro-dashboard-pro-radar-pro-wallet-pro-business-pro-subscription-pro-success-admin-login-admin-dashboard-admin-pros-admin-bookings-admin-revenus-default-falls-back-to-loginscreen-5-screen-container-uses-key-state-screen-with-fadein-200ms-opacity-animation-on-each-navigation-6-sidebar-desktop-only-renders-role-appropriate-vertical-nav-items-56px-height-each-matching-the-current-role-7-bottom-tab-bars-hidden-on-desktop-via-display-none-at-900px-8-toast-and-notifspanel-rendered-as-overlays-9-all-screens-receive-go-state-update-showtoast-removetoast-props",
      "featureTitle": "Rewrite frontend/src/App.tsx with a complete, production-ready router: (1) outer wrapper position fixed inset-0 background #050507 overflow hidden; (2) on mobile (<= 899px) inner container max-width 430px width 100% height 100% margin 0 auto display flex flex-direction column overflow hidden position relative; (3) on desktop (>= 900px) inner container max-width 1100px two-column CSS grid — sidebar 220px left, main content right; (4) renderScreen() switch covers all 28 cases with zero fallthrough: login, role, otp, explorer, fiche_pro, booking_1, booking_2, booking_3, booking_4, booking_5, live_status, client_reservations, client_alertes, client_profil, pro_dashboard, pro_radar, pro_wallet, pro_business, pro_subscription, pro_success, admin_login, admin_dashboard, admin_pros, admin_bookings, admin_revenus — default falls back to LoginScreen; (5) screen container uses key={state.screen} with fadeIn 200ms opacity animation on each navigation; (6) sidebar (desktop only) renders role-appropriate vertical nav items (56px height each) matching the current role; (7) bottom tab bars hidden on desktop via display:none at >=900px; (8) Toast and NotifsPanel rendered as overlays; (9) all screens receive go, state, update, showToast, removeToast props.",
      "files": [
        "frontend/src/App.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-186"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-audit-and-fix-the-root-layout-of-every-screen-to-ensure-all-content-is-visible-without-hidden-overflow-on-both-mobile-and-desktop-rules-for-every-screen-1-root-element-must-be-position-fixed-inset-0-display-flex-flex-direction-column-never-a-fixed-px-height-2-header-is-position-absolute-top-0-left-0-right-0-height-56px-z-index-100-3-scroll-zone-is-flex-1-overflow-y-auto-webkit-overflow-scrolling-touch-overscroll-behavior-contain-padding-top-72px-never-overflow-hidden-never-fixed-height-4-tab-bar-and-cta-zone-are-flex-shrink-0-in-natural-flex-flow-never-position-fixed-5-no-black-empty-space-anywhere-apply-to-loginscreen-rolescreen-otpscreen-explorerscreen-ficheproscreen-booking1-5-livestatusscreen-reservationsscreen-alertesscreen-clientprofilscreen-prodashboardscreen-proradarscreen-prowalletscreen-probusinessscreen-subscriptionmodal-successscreen-adminloginscreen-admindashboardscreen-adminprosscreen-adminbookingsscreen-adminrevenusscreen",
      "featureTitle": "Audit and fix the root layout of every screen to ensure all content is visible without hidden overflow on both mobile and desktop. Rules for every screen: (1) root element must be position fixed inset-0, display flex, flex-direction column — never a fixed px height; (2) header is position absolute top-0 left-0 right-0 height 56px z-index 100; (3) scroll zone is flex-1 overflow-y auto -webkit-overflow-scrolling touch overscroll-behavior contain padding-top 72px — never overflow hidden, never fixed height; (4) tab bar and CTA zone are flex-shrink-0 in natural flex flow — never position fixed; (5) no black empty space anywhere. Apply to: LoginScreen, RoleScreen, OTPScreen, ExplorerScreen, FicheProScreen, Booking1–5, LiveStatusScreen, ReservationsScreen, AlertesScreen, ClientProfilScreen, ProDashboardScreen, ProRadarScreen, ProWalletScreen, ProBusinessScreen, SubscriptionModal, SuccessScreen, AdminLoginScreen, AdminDashboardScreen, AdminProsScreen, AdminBookingsScreen, AdminRevenusScreen.",
      "files": [
        "frontend/src/screens/admin/AdminBookingsScreen.tsx",
        "frontend/src/screens/admin/AdminDashboardScreen.tsx",
        "frontend/src/screens/admin/AdminLoginScreen.tsx",
        "frontend/src/screens/admin/AdminProsScreen.tsx",
        "frontend/src/screens/admin/AdminRevenusScreen.tsx",
        "frontend/src/screens/auth/LoginScreen.tsx",
        "frontend/src/screens/auth/OTPScreen.tsx",
        "frontend/src/screens/auth/RoleScreen.tsx",
        "frontend/src/screens/client/AlertesScreen.tsx",
        "frontend/src/screens/client/Booking1Screen.tsx",
        "frontend/src/screens/client/Booking2Screen.tsx",
        "frontend/src/screens/client/Booking3Screen.tsx",
        "frontend/src/screens/client/Booking4Screen.tsx",
        "frontend/src/screens/client/ClientProfilScreen.tsx",
        "frontend/src/screens/client/ExplorerScreen.tsx",
        "frontend/src/screens/client/FicheProScreen.tsx",
        "frontend/src/screens/client/ReservationsScreen.tsx",
        "frontend/src/screens/pro/ProBusinessScreen.tsx",
        "frontend/src/screens/pro/ProDashboardScreen.tsx",
        "frontend/src/screens/pro/ProRadarScreen.tsx",
        "frontend/src/screens/pro/ProWalletScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-187"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-the-otp-authentication-flow-to-eliminate-infinite-loops-and-blocked-navigation-1-otpscreen-has-a-role-guard-at-the-very-top-if-state-role-is-null-call-go-role-and-return-null-immediately-2-the-send-code-button-uses-the-twilio-ts-stub-accepts-any-4-digit-code-it-must-never-block-on-a-real-network-call-3-on-entering-all-4-digits-verifyotp-is-called-locally-any-4-digit-code-is-accepted-in-demo-mode-4-on-success-if-role-client-call-go-explorer-if-role-pro-call-go-pro-dashboard-if-role-admin-call-go-admin-dashboard-5-the-phone-number-input-with-41-prefix-is-pre-filled-and-the-step-to-enter-code-auto-advances-without-requiring-a-real-sms-6-resend-countdown-is-60-seconds-using-setinterval",
      "featureTitle": "Fix the OTP authentication flow to eliminate infinite loops and blocked navigation: (1) OTPScreen has a role guard at the very top — if state.role is null, call go('role') and return null immediately; (2) the 'Send code' button uses the twilio.ts stub (accepts any 4-digit code) — it must never block on a real network call; (3) on entering all 4 digits, verifyOTP() is called locally — any 4-digit code is accepted in demo mode; (4) on success: if role==='client' call go('explorer'), if role==='pro' call go('pro_dashboard'), if role==='admin' call go('admin_dashboard'); (5) the phone number input with +41 prefix is pre-filled and the step to enter code auto-advances without requiring a real SMS; (6) resend countdown is 60 seconds using setInterval.",
      "files": [
        "frontend/src/screens/auth/OTPScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-189"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-all-buttons-across-the-entire-application-every-button-must-have-a-functional-onclick-handler-no-button-may-be-permanently-disabled-without-a-visible-reason-all-gold-gradient-cta-buttons-must-be-visible-and-tappable-specifically-1-every-btnprimary-instance-has-an-onclick-that-performs-a-visible-action-2-disabled-state-only-applied-when-an-explicit-condition-is-not-met-e-g-no-service-selected-no-address-entered-with-a-visual-explanation-3-no-button-renders-with-opacity-0-or-visibility-hidden-4-active-press-state-scale-0-96-applies-on-all-buttons",
      "featureTitle": "Fix all buttons across the entire application: every button must have a functional onClick handler, no button may be permanently disabled without a visible reason, all gold gradient CTA buttons must be visible and tappable. Specifically: (1) every BtnPrimary instance has an onClick that performs a visible action; (2) disabled state only applied when an explicit condition is not met (e.g. no service selected, no address entered) with a visual explanation; (3) no button renders with opacity 0 or visibility hidden; (4) active press state scale(0.96) applies on all buttons.",
      "files": [
        "frontend/src/components/BtnPrimary.tsx",
        "frontend/src/screens/client/Booking1Screen.tsx",
        "frontend/src/screens/client/Booking2Screen.tsx",
        "frontend/src/screens/client/Booking3Screen.tsx",
        "frontend/src/screens/client/Booking4Screen.tsx",
        "frontend/src/screens/pro/ProBusinessScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-190"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-all-form-inputs-across-the-entire-application-every-input-and-textarea-must-be-fully-controlled-with-value-and-onchange-props-every-input-must-have-a-visible-label-above-it-placeholder-text-must-be-informative-real-time-validation-with-error-messages-in-ff3d5a-below-the-field-font-size-minimum-16px-on-all-inputs-and-textareas-to-prevent-ios-zoom-height-52px-on-all-inputs",
      "featureTitle": "Fix all form inputs across the entire application: every input and textarea must be fully controlled with value and onChange props, every input must have a visible label above it, placeholder text must be informative, real-time validation with error messages in #FF3D5A below the field, font-size minimum 16px on all inputs and textareas to prevent iOS zoom, height 52px on all inputs.",
      "files": [
        "frontend/src/screens/admin/AdminLoginScreen.tsx",
        "frontend/src/screens/auth/OTPScreen.tsx",
        "frontend/src/screens/client/Booking3Screen.tsx",
        "frontend/src/screens/client/ClientProfilScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-191"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-all-images-across-the-application-every-img-tag-must-have-onerror-e-e-currenttarget-onerror-null-e-currenttarget-style-display-none-and-a-sibling-gradient-fallback-div-that-is-always-rendered-behind-the-image-using-position-absolute-inset-0-linear-gradient-background-every-image-must-have-loading-lazy-and-object-fit-cover-this-applies-to-explorerscreen-cards-ficheproscreen-cover-and-gallery-tabgalerie-previews-and-any-other-img-tags",
      "featureTitle": "Fix all images across the application: every img tag must have onError={(e) => { e.currentTarget.onerror = null; e.currentTarget.style.display = 'none'; }} AND a sibling gradient fallback div that is always rendered behind the image (using position absolute, inset 0, linear-gradient background). Every image must have loading='lazy' and object-fit='cover'. This applies to ExplorerScreen cards, FicheProScreen cover and gallery, TabGalerie previews, and any other img tags.",
      "files": [
        "frontend/src/screens/client/ClientProfilScreen.tsx",
        "frontend/src/screens/client/ExplorerScreen.tsx",
        "frontend/src/screens/client/FicheProScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-192"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-ensure-demo-data-is-always-visible-on-every-screen-no-screen-ever-shows-an-empty-state-as-its-only-content-on-first-load-specifically-explorerscreen-always-shows-the-6-pros-demo-entries-on-mount-before-any-canister-call-proradarscreen-always-shows-2-demo-booking-requests-prowalletscreen-always-shows-balance-240-chf-escrow-55-chf-5-demo-transactions-and-7-bar-chart-reservationsscreen-always-shows-3-demo-upcoming-bookings-alertesscreen-always-shows-4-demo-notifications-3-unread-admindashboardscreen-always-shows-demo-kpis-8-pros-47-clients-156-chf-revenue-24-transactions-3-pending-pros-5-recent-bookings-adminprosscreen-always-shows-demo-pros-list-adminbookingsscreen-always-shows-demo-bookings-adminrevenusscreen-always-shows-demo-revenue-data-all-canister-calls-are-wrapped-in-try-catch-on-error-or-empty-result-demo-data-is-used",
      "featureTitle": "Ensure demo data is always visible on every screen — no screen ever shows an empty state as its only content on first load. Specifically: ExplorerScreen always shows the 6 PROS_DEMO entries on mount (before any canister call); ProRadarScreen always shows 2 demo booking requests; ProWalletScreen always shows balance 240 CHF, escrow 55 CHF, 5 demo transactions, and 7-bar chart; ReservationsScreen always shows 3 demo upcoming bookings; AlertesScreen always shows 4 demo notifications (3 unread); AdminDashboardScreen always shows demo KPIs (8 pros, 47 clients, 156 CHF revenue, 24 transactions), 3 pending pros, 5 recent bookings; AdminProsScreen always shows demo pros list; AdminBookingsScreen always shows demo bookings; AdminRevenusScreen always shows demo revenue data. All canister calls are wrapped in try/catch — on error or empty result, demo data is used.",
      "files": [
        "frontend/src/screens/admin/AdminBookingsScreen.tsx",
        "frontend/src/screens/admin/AdminDashboardScreen.tsx",
        "frontend/src/screens/admin/AdminProsScreen.tsx",
        "frontend/src/screens/admin/AdminRevenusScreen.tsx",
        "frontend/src/screens/client/AlertesScreen.tsx",
        "frontend/src/screens/client/ExplorerScreen.tsx",
        "frontend/src/screens/client/ReservationsScreen.tsx",
        "frontend/src/screens/pro/ProRadarScreen.tsx",
        "frontend/src/screens/pro/ProWalletScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-193"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-all-navigation-inconsistencies-1-every-screen-that-has-a-back-arrow-must-call-go-with-the-correct-previous-screen-no-dead-end-screens-2-the-nexus-logo-on-the-header-is-always-clickable-and-navigates-to-the-role-appropriate-home-screen-explorer-for-client-pro-dashboard-for-pro-admin-dashboard-for-admin-3-the-role-switch-pill-in-explorerscreen-labeled-pro-calls-go-pro-dashboard-and-in-prodashboardscreen-the-client-switch-pill-calls-go-explorer-4-all-4-tabs-in-tabbarclient-navigate-explorer-go-explorer-reservations-go-client-reservations-alertes-go-client-alertes-profil-go-client-profil-5-all-4-tabbarpro-tabs-navigate-radar-go-pro-radar-wallet-go-pro-wallet-dashboard-go-pro-dashboard-business-go-pro-business-6-all-4-tabbaradmin-tabs-navigate-dashboard-go-admin-dashboard-pros-go-admin-pros-bookings-go-admin-bookings-revenus-go-admin-revenus",
      "featureTitle": "Fix all navigation inconsistencies: (1) every screen that has a back arrow must call go() with the correct previous screen — no dead-end screens; (2) the NEXUS logo on the Header is always clickable and navigates to the role-appropriate home screen (explorer for client, pro_dashboard for pro, admin_dashboard for admin); (3) the role-switch pill in ExplorerScreen (labeled 'Pro') calls go('pro_dashboard'), and in ProDashboardScreen the client switch pill calls go('explorer'); (4) all 4 tabs in TabBarClient navigate: explorer → go('explorer'), reservations → go('client_reservations'), alertes → go('client_alertes'), profil → go('client_profil'); (5) all 4 TabBarPro tabs navigate: radar → go('pro_radar'), wallet → go('pro_wallet'), dashboard → go('pro_dashboard'), business → go('pro_business'); (6) all 4 TabBarAdmin tabs navigate: dashboard → go('admin_dashboard'), pros → go('admin_pros'), bookings → go('admin_bookings'), revenus → go('admin_revenus').",
      "files": [
        "frontend/src/components/Header.tsx",
        "frontend/src/components/TabBarAdmin.tsx",
        "frontend/src/components/TabBarClient.tsx",
        "frontend/src/components/TabBarPro.tsx",
        "frontend/src/screens/client/Booking1Screen.tsx",
        "frontend/src/screens/client/Booking2Screen.tsx",
        "frontend/src/screens/client/Booking3Screen.tsx",
        "frontend/src/screens/client/Booking4Screen.tsx",
        "frontend/src/screens/client/ExplorerScreen.tsx",
        "frontend/src/screens/client/FicheProScreen.tsx",
        "frontend/src/screens/pro/ProDashboardScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-194"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-the-complete-5-step-booking-flow-end-to-end-1-booking1screen-services-from-state-selectedpro-services-or-5-category-defaults-if-empty-selecting-a-service-calls-update-selectedservice-continue-active-only-when-service-selected-calls-go-booking-2-2-booking2screen-4-fixed-time-slots-in-1-hour-in-2-hours-this-evening-tomorrow-morning-selecting-calls-update-bookingcreneau-slot-continue-calls-go-booking-3-3-booking3screen-phone-optional-validates-41-0-9-9-or-empty-address-required-city-dropdown-12-cities-required-note-optional-continue-active-only-when-address-and-city-valid-calls-update-bookingadresse-bookingville-bookingphone-bookingnote-then-go-booking-4-4-booking4screen-displays-full-recap-service-name-duration-slot-address-city-total-price-in-inter-800-28px-f2d06b-cta-confirm-and-pay-via-twint-on-click-calls-update-bookingid-demo-date-now-showtoast-booking-request-sent-success-go-booking-5-5-booking5screen-animated-svg-hourglass-30-min-countdown-after-exactly-8-seconds-calls-go-live-status-and-showtoast-booking-confirmed-success",
      "featureTitle": "Fix the complete 5-step booking flow end-to-end: (1) Booking1Screen: services from state.selectedPro.services or 5 category defaults if empty, selecting a service calls update({ selectedService }), Continue active only when service selected, calls go('booking_2'); (2) Booking2Screen: 4 fixed time slots ('In 1 hour', 'In 2 hours', 'This evening', 'Tomorrow morning'), selecting calls update({ bookingCreneau: slot }), Continue calls go('booking_3'); (3) Booking3Screen: phone (optional, validates /^\\+41[0-9]{9}$/ or empty), address (required), city dropdown 12 cities (required), note optional; Continue active only when address and city valid, calls update({ bookingAdresse, bookingVille, bookingPhone, bookingNote }) then go('booking_4'); (4) Booking4Screen: displays full recap (service name, duration, slot, address, city, total price in Inter 800 28px #F2D06B), CTA 'Confirm and pay via TWINT' — on click calls update({ bookingId: 'demo_' + Date.now() }), showToast('Booking request sent', 'success'), go('booking_5'); (5) Booking5Screen: animated SVG hourglass, 30-min countdown, after exactly 8 seconds calls go('live_status') and showToast('Booking confirmed', 'success').",
      "files": [
        "frontend/src/screens/client/Booking1Screen.tsx",
        "frontend/src/screens/client/Booking2Screen.tsx",
        "frontend/src/screens/client/Booking3Screen.tsx",
        "frontend/src/screens/client/Booking4Screen.tsx",
        "frontend/src/screens/client/Booking5Screen.tsx",
        "frontend/src/screens/client/LiveStatusScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-195"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-probusinessscreen-and-all-5-tabs-to-work-fully-without-any-canister-dependency-1-probusinessscreen-layout-position-fixed-inset-0-flex-column-header-absolute-56px-z-100-tab-zone-flex-shrink-0-padding-top-72px-scroll-zone-flex-1-overflow-y-auto-cta-zone-flex-shrink-0-tabbarpro-flex-shrink-0-zero-black-empty-space-2-tab-pills-profile-services-schedule-payment-gallery-all-clickable-with-correct-active-styling-and-completion-micro-dots-3-progresscircle-and-5-segment-bar-update-based-on-filled-fields-4-save-and-continue-button-on-tabs-1-4-shows-spinner-600ms-then-advances-tab-and-shows-showtoast-information-saved-success-5-tab-5-gallery-activate-my-profile-button-active-when-photo-count-3-calls-update-modalopen-true-disabled-with-profile-incomplete-x-text-when-80-completion-6-subscriptionmodal-renders-as-bottom-overlay-when-state-modalopen-is-true-7-subscriptionmodal-start-for-free-button-if-vite-payrexx-secret-undefined-calls-update-proactif-true-then-go-pro-success",
      "featureTitle": "Fix ProBusinessScreen and all 5 tabs to work fully without any canister dependency: (1) ProBusinessScreen layout: position fixed inset-0, flex column, header absolute 56px z-100, tab zone flex-shrink-0 padding-top 72px, scroll zone flex-1 overflow-y auto, CTA zone flex-shrink-0, TabBarPro flex-shrink-0 — zero black empty space; (2) tab pills Profile/Services/Schedule/Payment/Gallery all clickable with correct active styling and completion micro-dots; (3) ProgressCircle and 5-segment bar update based on filled fields; (4) 'Save and continue' button on tabs 1–4 shows spinner 600ms then advances tab and shows showToast('Information saved', 'success'); (5) Tab 5 Gallery: 'Activate my profile' button active when photo count >= 3, calls update({ modalOpen: true }); disabled with 'Profile incomplete X%' text when < 80% completion; (6) SubscriptionModal renders as bottom overlay when state.modalOpen is true; (7) SubscriptionModal 'Start for free' button: if VITE_PAYREXX_SECRET undefined, calls update({ proActif: true }) then go('pro_success').",
      "files": [
        "frontend/src/screens/pro/ProBusinessScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-196"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-the-adminloginscreen-to-use-local-credential-check-only-email-admin-nexus-ch-password-admin2024-on-match-calls-update-adminauthenticated-true-then-go-admin-dashboard-on-mismatch-calls-showtoast-incorrect-credentials-error-both-inputs-are-fully-controlled-with-onchange-the-sign-in-button-background-is-ff3d5a-no-canister-call-the-screen-background-is-050507-with-vertically-centered-content",
      "featureTitle": "Fix the AdminLoginScreen to use local credential check only: email 'admin@nexus.ch' password 'Admin2024!' — on match calls update({ adminAuthenticated: true }) then go('admin_dashboard'), on mismatch calls showToast('Incorrect credentials', 'error'). Both inputs are fully controlled with onChange. The Sign in button background is #FF3D5A. No canister call. The screen background is #050507 with vertically centered content.",
      "files": [
        "frontend/src/screens/admin/AdminLoginScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-197"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-enforce-global-visual-consistency-across-every-screen-and-component-1-all-text-on-gold-f2d06b-backgrounds-uses-color-050507-no-exceptions-2-all-primary-text-on-dark-backgrounds-uses-f4f4f8-3-secondary-text-uses-9898b4-4-inactive-placeholder-text-uses-54546c-5-card-backgrounds-use-0d0d13-or-121219-never-000000-6-all-card-border-radius-buttons-14px-cards-16-18px-pills-999px-inputs-12px-modals-24px-7-all-input-heights-52px-8-all-cta-button-heights-56px-9-all-horizontal-section-padding-20px-10-all-element-spacing-in-multiples-of-8px-11-zero-emoji-in-any-user-facing-string-or-jsx-text-anywhere-in-the-codebase",
      "featureTitle": "Enforce global visual consistency across every screen and component: (1) all text on gold (#F2D06B) backgrounds uses color #050507 — no exceptions; (2) all primary text on dark backgrounds uses #F4F4F8; (3) secondary text uses #9898B4; (4) inactive/placeholder text uses #54546C; (5) card backgrounds use #0D0D13 or #121219 — never #000000; (6) all card border-radius: buttons 14px, cards 16–18px, pills 999px, inputs 12px, modals 24px; (7) all input heights 52px; (8) all CTA button heights 56px; (9) all horizontal section padding 20px; (10) all element spacing in multiples of 8px; (11) zero emoji in any user-facing string or JSX text anywhere in the codebase.",
      "files": [
        "frontend/src/components/BtnPrimary.tsx",
        "frontend/src/screens/admin/AdminBookingsScreen.tsx",
        "frontend/src/screens/admin/AdminDashboardScreen.tsx",
        "frontend/src/screens/admin/AdminProsScreen.tsx",
        "frontend/src/screens/admin/AdminRevenusScreen.tsx",
        "frontend/src/screens/auth/LoginScreen.tsx",
        "frontend/src/screens/auth/OTPScreen.tsx",
        "frontend/src/screens/auth/RoleScreen.tsx",
        "frontend/src/screens/client/AlertesScreen.tsx",
        "frontend/src/screens/client/Booking1Screen.tsx",
        "frontend/src/screens/client/Booking2Screen.tsx",
        "frontend/src/screens/client/Booking3Screen.tsx",
        "frontend/src/screens/client/Booking4Screen.tsx",
        "frontend/src/screens/client/ClientProfilScreen.tsx",
        "frontend/src/screens/client/ExplorerScreen.tsx",
        "frontend/src/screens/client/FicheProScreen.tsx",
        "frontend/src/screens/client/ReservationsScreen.tsx",
        "frontend/src/screens/pro/ProBusinessScreen.tsx",
        "frontend/src/screens/pro/ProDashboardScreen.tsx",
        "frontend/src/screens/pro/ProRadarScreen.tsx",
        "frontend/src/screens/pro/ProWalletScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-198"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-ensure-the-desktop-sidebar-in-app-tsx-renders-the-correct-vertical-navigation-items-based-on-the-current-role-1-for-role-client-4-items-matching-tabbarclient-explorer-with-iconsearch-reservations-with-iconcalendar-alertes-with-iconbell-profil-with-iconuser-each-calling-the-correct-go-on-click-2-for-role-pro-4-items-matching-tabbarpro-radar-with-iconradar-wallet-with-iconwallet-home-with-iconhome-business-with-iconedit-3-for-role-admin-4-items-matching-tabbaradmin-dashboard-with-icongrid-pros-with-iconuser-bookings-with-iconcalendar-revenue-with-iconwallet-using-ff3d5a-active-color-4-sidebar-nav-items-are-56px-height-inter-600-14px-gold-f2d06b-when-active-5-sidebar-only-renders-on-desktop-900px-hidden-on-mobile-6-sidebar-background-rgba-5-5-7-0-97-border-right-1px-solid-rgba-255-255-255-0-04",
      "featureTitle": "Ensure the desktop sidebar in App.tsx renders the correct vertical navigation items based on the current role: (1) for role='client': 4 items matching TabBarClient (Explorer with IconSearch, Reservations with IconCalendar, Alertes with IconBell, Profil with IconUser), each calling the correct go() on click; (2) for role='pro': 4 items matching TabBarPro (Radar with IconRadar, Wallet with IconWallet, Home with IconHome, Business with IconEdit); (3) for role='admin': 4 items matching TabBarAdmin (Dashboard with IconGrid, Pros with IconUser, Bookings with IconCalendar, Revenue with IconWallet) using #FF3D5A active color; (4) sidebar nav items are 56px height, Inter 600 14px, gold (#F2D06B) when active; (5) sidebar only renders on desktop >= 900px — hidden on mobile; (6) sidebar background rgba(5,5,7,0.97), border-right 1px solid rgba(255,255,255,0.04).",
      "files": [
        "frontend/src/App.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-199"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-components-header-tsx-with-complete-functionality-position-absolute-top-0-left-0-right-0-height-56px-mobile-64px-desktop-900px-background-rgba-5-5-7-0-97-backdrop-filter-blur-32px-border-bottom-1px-solid-rgba-255-255-255-0-04-z-index-100-left-if-showback-40px-circle-button-background-0d0d13-border-rgba-255-255-255-0-08-with-iconarrowleft-18px-f4f4f8-onclick-onback-else-nexus-inter-900-22px-f4f4f8-in-5b7fff-letter-spacing-0-05em-onclick-onlogoclick-center-title-inter-700-16px-f4f4f8-with-fadein-300ms-right-role-switch-pill-transition-150ms-border-color-notification-bell-40px-circle-badge-scalein-200ms-when-notifscount-0-in-ff3d5a-all-props-showback-onback-title-role-notifscount-onnotifs-onswitchrole-onlogoclick-typed-and-functional",
      "featureTitle": "Rewrite frontend/src/components/Header.tsx with complete functionality: position absolute top-0 left-0 right-0, height 56px (mobile) / 64px (desktop >= 900px), background rgba(5,5,7,0.97), backdrop-filter blur(32px), border-bottom 1px solid rgba(255,255,255,0.04), z-index 100. Left: if showBack — 40px circle button background #0D0D13 border rgba(255,255,255,0.08) with IconArrowLeft 18px #F4F4F8 onClick onBack; else — 'NEXUS' Inter 900 22px #F4F4F8 + '.' in #5B7FFF letter-spacing -0.05em, onClick onLogoClick. Center: title Inter 700 16px #F4F4F8 with fadeIn 300ms. Right: role-switch pill (transition 150ms border-color) + notification bell (40px circle, badge scaleIn 200ms when notifsCount > 0 in #FF3D5A). All props (showBack, onBack, title, role, notifsCount, onNotifs, onSwitchRole, onLogoClick) typed and functional.",
      "files": [
        "frontend/src/components/Header.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-200"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-components-btnprimary-tsx-height-56px-non-small-60px-on-desktop-768px-font-size-15px-mobile-16px-desktop-border-radius-14px-mobile-16px-desktop-gold-gradient-background-with-glow-gold-box-shadow-0-6px-28px-rgba-242-208-107-0-3-disabled-state-background-1c1c26-color-54546c-box-shadow-none-cursor-not-allowed-danger-state-background-ff3d5a-box-shadow-0-6px-24px-rgba-255-61-90-0-3-color-fff-loading-state-18x18px-spinner-border-2px-solid-currentcolor-border-top-color-transparent-animation-spin-0-8s-infinite-active-press-scale-0-96-transition-100ms-flex-shrink-0-always-box-shadow-transition-200ms",
      "featureTitle": "Rewrite frontend/src/components/BtnPrimary.tsx: height 56px (non-small), 60px on desktop >= 768px; font-size 15px (mobile) / 16px (desktop); border-radius 14px (mobile) / 16px (desktop); gold gradient background with glow-gold box-shadow 0 6px 28px rgba(242,208,107,0.3); disabled state background #1C1C26 color #54546C box-shadow none cursor not-allowed; danger state background #FF3D5A box-shadow 0 6px 24px rgba(255,61,90,0.3) color #fff; loading state: 18x18px spinner border 2px solid currentColor border-top-color transparent animation spin 0.8s infinite; active press scale(0.96) transition 100ms; flex-shrink 0 always; box-shadow transition 200ms.",
      "files": [
        "frontend/src/components/BtnPrimary.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-201"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-components-toast-tsx-container-position-fixed-top-72px-on-mobile-left-16px-right-16px-max-width-430px-on-desktop-768px-right-aligned-24px-from-right-edge-max-width-360px-each-toast-backdrop-filter-blur-24px-background-rgba-9-9-13-0-97-border-1px-solid-rgba-255-255-255-0-06-type-based-icon-in-24px-circle-iconcheck-00d97a-success-iconx-ff3d5a-error-iconbell-5b7fff-info-iconflash-f2d06b-sms-text-inter-500-13px-f4f4f8-enter-slidedown-300ms-exit-slideup-200ms-gap-8px-max-4-toasts-oldest-removed-auto-dismiss-after-duration-3500ms-on-desktop-border-radius-16px-padding-16px-20px",
      "featureTitle": "Rewrite frontend/src/components/Toast.tsx: container position fixed top 72px, on mobile left 16px right 16px max-width 430px, on desktop >= 768px right-aligned 24px from right edge max-width 360px; each toast backdrop-filter blur(24px) background rgba(9,9,13,0.97) border 1px solid rgba(255,255,255,0.06); type-based icon in 24px circle (IconCheck #00D97A success, IconX #FF3D5A error, IconBell #5B7FFF info, IconFlash #F2D06B sms); text Inter 500 13px #F4F4F8; enter slideDown 300ms exit slideUp 200ms; gap 8px; max 4 toasts (oldest removed); auto-dismiss after duration ?? 3500ms; on desktop border-radius 16px padding 16px 20px.",
      "files": [
        "frontend/src/components/Toast.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-202"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-components-bottomsheet-tsx-on-mobile-bottom-anchored-border-radius-24px-24px-0-0-max-height-calc-100dvh-64px-env-safe-area-inset-bottom-0px-slideup-250ms-animation-drag-handle-visible-on-desktop-768px-centered-modal-position-fixed-top-50-left-50-transform-translate-50-50-max-width-560px-border-radius-24px-all-corners-max-height-85vh-enter-animation-scalein-overlay-rgba-5-5-7-0-85-blur-4px-content-scrollable-with-flex-1-overflow-y-auto-footer-slot-sticky-at-bottom-onclick-overlay-calls-onclose-onclick-sheet-stoppropagation",
      "featureTitle": "Rewrite frontend/src/components/BottomSheet.tsx: on mobile, bottom-anchored border-radius 24px 24px 0 0, max-height calc(100dvh - 64px - env(safe-area-inset-bottom,0px)), slideUp 250ms animation, drag handle visible. On desktop >= 768px: centered modal position fixed top 50% left 50% transform translate(-50%,-50%) max-width 560px border-radius 24px all corners max-height 85vh, enter animation scaleIn. Overlay rgba(5,5,7,0.85) blur(4px). Content scrollable with flex-1 overflow-y auto. Footer slot sticky at bottom. onClick overlay calls onClose, onClick sheet stopPropagation.",
      "files": [
        "frontend/src/components/BottomSheet.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-203"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-components-tabbarclient-tsx-tabbarpro-tsx-and-tabbaradmin-tsx-on-desktop-900px-hide-entirely-with-display-none-navigation-handled-by-sidebar-on-mobile-full-polish-gold-indicator-line-width-transition-0-24px-200ms-on-mount-active-icon-scale-1-1-150ms-transition-inactive-icons-2e2e3e-active-icons-and-labels-f2d06b-tabbaradmin-uses-ff3d5a-for-active-gradient-top-border-linear-gradient-to-right-transparent-rgba-242-208-107-0-15-transparent-tab-press-scale-0-9-briefly-all-tab-onclick-handlers-call-the-correct-go-navigation-add-aria-label-attributes-to-all-tab-buttons",
      "featureTitle": "Rewrite frontend/src/components/TabBarClient.tsx, TabBarPro.tsx, and TabBarAdmin.tsx: on desktop >= 900px, hide entirely with display:none (navigation handled by sidebar). On mobile, full polish: gold indicator line width transition 0→24px 200ms on mount, active icon scale(1.1) 150ms transition, inactive icons #2E2E3E, active icons and labels #F2D06B (TabBarAdmin uses #FF3D5A for active). Gradient top border linear-gradient(to right, transparent, rgba(242,208,107,0.15), transparent). Tab press scale(0.9) briefly. All tab onClick handlers call the correct go() navigation. Add aria-label attributes to all tab buttons.",
      "files": [
        "frontend/src/components/TabBarAdmin.tsx",
        "frontend/src/components/TabBarClient.tsx",
        "frontend/src/components/TabBarPro.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-204"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-components-notifspanel-tsx-on-mobile-full-width-slide-in-from-right-width-100-max-width-430px-on-desktop-900px-right-side-drawer-max-width-400px-semi-transparent-left-border-1px-solid-rgba-255-255-255-0-08-notification-items-stagger-fadein-30ms-per-index-each-type-has-distinct-icon-nouvelle-demande-iconbell-paiement-confirme-iconwallet-fonds-liberes-iconbank-booking-confirme-iconcalendar-avis-recu-iconstar-in-correctly-colored-36px-circles-panel-header-count-chip-inter-700-11px-050507-on-f2d06b-padding-2px-7px-border-radius-999px-entrance-slideup-300ms-cubic-bezier-0-32-0-72-0-1-thin-2e2e3e-bar-on-left-edge-as-swipe-hint",
      "featureTitle": "Rewrite frontend/src/components/NotifsPanel.tsx: on mobile, full-width slide-in from right width 100% max-width 430px. On desktop >= 900px: right-side drawer max-width 400px, semi-transparent left border 1px solid rgba(255,255,255,0.08). Notification items stagger fadeIn 30ms per index. Each type has distinct icon — nouvelle_demande: IconBell, paiement_confirme: IconWallet, fonds_liberes: IconBank, booking_confirme: IconCalendar, avis_recu: IconStar — in correctly colored 36px circles. Panel header: count chip Inter 700 11px #050507 on #F2D06B padding 2px 7px border-radius 999px. Entrance slideUp 300ms cubic-bezier(0.32,0.72,0,1). Thin #2E2E3E bar on left edge as swipe hint.",
      "files": [
        "frontend/src/components/NotifsPanel.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-205"
      ],
      "confidence": "high"
    }
  ]
}