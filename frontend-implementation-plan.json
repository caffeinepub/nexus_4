{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Pro Monetization Overhaul: 29.90 CHF Subscription, Pitch Screen, Social Sharing, Micro-Network, Stats, Badges, Boost & Express Services",
  "requirements": [
    {
      "id": "REQ-208",
      "summary": "Update subscription price from 19.90 CHF to 29.90 CHF across all frontend occurrences",
      "acceptanceCriteria": [
        "SubscriptionModal shows 'Then 29.90 CHF / month'",
        "TabPaiement financial summary shows 'Monthly subscription cost: 29.90 CHF'",
        "No occurrence of '19.90' remains anywhere in the frontend source",
        "7-day free trial messaging is preserved"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/SubscriptionModal.tsx",
          "operation": "modify",
          "description": "Update subtitle text from '19.90 CHF / month' to '29.90 CHF / month' and verify all price references use the new value while preserving 7-day free trial period messaging"
        },
        {
          "path": "frontend/src/screens/pro/tabs/TabPaiement.tsx",
          "operation": "modify",
          "description": "Update financial summary section to display 'Monthly subscription cost: 29.90 CHF' instead of the old 19.90 CHF value"
        },
        {
          "path": "frontend/src/screens/pro/ProBusinessScreen.tsx",
          "operation": "modify",
          "description": "Search for and update any CTA or label text that references the subscription cost to show 29.90 CHF"
        }
      ]
    },
    {
      "id": "REQ-209",
      "summary": "Create ProPitchScreen as a conversion landing screen to convince independent professionals to subscribe",
      "acceptanceCriteria": [
        "'pro_pitch' is a valid Screen value in useAppState.ts",
        "App.tsx renderScreen() has a case for 'pro_pitch' rendering ProPitchScreen",
        "Hero section renders with animated orbs, headline, and gold divider",
        "Three value pillars render as glass-cards with correct icons and colors",
        "Animated counter counts up to 500+ on mount over 2s",
        "Three testimonial cards render with Unsplash images (onError fallback), names, ratings, and quotes",
        "Satisfaction guarantee row visible",
        "CTA button 'Start free for 7 days' calls go('pro_subscription') on click",
        "Price displayed as 29.90 CHF/month",
        "Zero emoji anywhere in the component"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProPitchScreen.tsx",
          "operation": "create",
          "description": "Create full conversion landing screen with position fixed layout, animated blur orbs (float keyframe), hero headline 'The platform that sets you free' Inter 900 48px #F4F4F8, three value pillar glass-cards (Freedom IconHome #F2D06B, Revenue IconWallet #00D97A, Network IconRadar #5B7FFF), animated 500+ counter (count-up from 0 over 2s on mount), three testimonial cards with Unsplash images (photo-1570172619644-dfd03ed5d881, photo-1503951914875-452162b0f3f1, photo-1544161515-4ab6ce6db874) showing Sophie R./Karim B./Marc T. with star ratings and quotes, satisfaction guarantee row with IconShield #00D97A, CTA zone with BtnPrimary 'Start free for 7 days' calling go('pro_subscription') and '29.90 CHF/month after trial' disclaimer. Header back arrow calls go('pro_dashboard'). Import icons from components/icons"
        }
      ]
    },
    {
      "id": "REQ-210",
      "summary": "Add 'Why NEXUS Pro' entry point from ProDashboardScreen to ProPitchScreen",
      "acceptanceCriteria": [
        "ProDashboardScreen displays a 'Why NEXUS Pro' link below metric cards",
        "Clicking the link calls go('pro_pitch')",
        "Link uses #F2D06B color with IconArrowRight",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProDashboardScreen.tsx",
          "operation": "modify",
          "description": "Add a secondary link below the metric cards labeled 'Why NEXUS Pro — discover all features' Inter 500 13px #F2D06B with IconArrowRight size 14 that calls go('pro_pitch') on click, positioned in scroll zone without requiring scroll"
        }
      ]
    },
    {
      "id": "REQ-211",
      "summary": "Create ProStatsScreen as a dedicated analytics screen with conversion rate, revenue charts, heatmaps, and projections",
      "acceptanceCriteria": [
        "'pro_stats' is a valid Screen value",
        "App.tsx case 'pro_stats' renders ProStatsScreen",
        "Conversion rate card renders with demo value",
        "Revenue per service bar chart renders 6 animated bars on mount",
        "Peak hours heatmap renders 7x12 SVG grid with color-scaled cells",
        "Rating trend line chart renders",
        "Top 3 clients section renders",
        "Monthly projection card renders",
        "Back arrow calls go('pro_dashboard')",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProStatsScreen.tsx",
          "operation": "create",
          "description": "Create analytics screen with fixed position layout, conversion rate card (24% demo value), revenue per service animated bar chart (6 bars: Haircut 420 CHF, Beard trim 180 CHF, Hair+Beard 315 CHF, Shave 100 CHF, Kids cut 80 CHF, Other 60 CHF with gradient fill #D4A050 to #F2D06B), 7x12 peak hours heatmap SVG grid (Mon–Sun x 8h–20h with opacity-scaled cells rgba(242,208,107,0.05) to rgba(242,208,107,0.6)), rating trend line chart SVG (30-day demo values 4.6 to 4.9, stroke #F2D06B), top 3 loyal clients section (Thomas M. 8 bookings, Julien R. 5 bookings, Sophie L. 4 bookings), monthly projection card (340 CHF projected). Header back arrow calls go('pro_dashboard'), TabBarPro at bottom with no active tab"
        }
      ]
    },
    {
      "id": "REQ-212",
      "summary": "Add 'View my stats' entry point from ProDashboardScreen to ProStatsScreen",
      "acceptanceCriteria": [
        "ProDashboardScreen has a 'View my stats' link",
        "Clicking calls go('pro_stats')",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProDashboardScreen.tsx",
          "operation": "modify",
          "description": "Add 'View my stats' link Inter 500 12px #F2D06B with IconArrowRight size 14 in the Next appointment card footer area that calls go('pro_stats') on click"
        }
      ]
    },
    {
      "id": "REQ-213",
      "summary": "Create ProShareScreen as a social sharing screen with QR code and share options",
      "acceptanceCriteria": [
        "'pro_share' is a valid Screen value",
        "App.tsx case 'pro_share' renders ProShareScreen",
        "Share preview card renders with pro data (or demo fallback)",
        "QR code SVG renders as a 180x180px matrix pattern",
        "All 4 share option buttons are functional with correct onClick handlers",
        "Copy link shows success toast",
        "WhatsApp and SMS open correct URLs",
        "Instagram shows copy + info toast",
        "Back arrow calls go('pro_dashboard')",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProShareScreen.tsx",
          "operation": "create",
          "description": "Create social sharing screen with fixed position layout, share profile preview glass-card (280px centered with Unsplash cover image 120px, avatar 60px gold border, pro name/category/city/rating/price, link text 'nexus.app/pro/[id]'), dynamic QR code SVG generator (180x180px pure TypeScript matrix implementation for 'https://nexus.app/pro/[id]' in white 200x200px card), 2x2 share options grid with glass-card buttons (Copy link IconCheck #F2D06B with clipboard API + toast, WhatsApp IconMessage #00D97A opening wa.me, SMS IconPhone #5B7FFF opening sms:, Instagram IconCamera #FF3D5A with copy + info toast). Header back arrow calls go('pro_dashboard')"
        }
      ]
    },
    {
      "id": "REQ-214",
      "summary": "Add 'Share my profile' buttons on ProDashboardScreen and ProBusinessScreen",
      "acceptanceCriteria": [
        "ProDashboardScreen has a 'Share my profile' pill button calling go('pro_share')",
        "ProBusinessScreen shows the share button on tabs 1 and 2",
        "Both buttons use the specified pill style",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProDashboardScreen.tsx",
          "operation": "modify",
          "description": "Add 'Share my profile' pill button in greeting section with IconArrowRight size 14, background rgba(242,208,107,0.08) border 1px solid rgba(242,208,107,0.2) border-radius 999px padding 8px 16px, Inter 600 13px #F2D06B, calling go('pro_share') on click"
        },
        {
          "path": "frontend/src/screens/pro/ProBusinessScreen.tsx",
          "operation": "modify",
          "description": "Add 'Share my profile' pill button with same styling as ProDashboardScreen in CTA zone area above the main CTA button, visible only on tabs 1 and 2, calling go('pro_share') on click"
        }
      ]
    },
    {
      "id": "REQ-215",
      "summary": "Create ProNetworkScreen as a micro-network/referral screen with referral code and network list",
      "acceptanceCriteria": [
        "'pro_network' is a valid Screen value",
        "App.tsx case 'pro_network' renders ProNetworkScreen",
        "Referral code card renders with copy functionality and success toast",
        "Reward explanation visible",
        "Stats row shows invited count and months earned",
        "Network list shows 3 demo pros with correct status badges",
        "Invite CTA calls go('pro_share')",
        "Back arrow calls go('pro_dashboard')",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProNetworkScreen.tsx",
          "operation": "create",
          "description": "Create micro-network screen with fixed position layout, referral code card (title 'My referral code' Inter 700 18px #F4F4F8, code 'NEXUS-[STATE_ID or DEMO42]' Inter 900 32px #F2D06B letter-spacing 0.08em in bordered box background #1C1C26 border 1px dashed rgba(242,208,107,0.3), copy button with clipboard API + toast), reward explanation card (IconStar #F2D06B + 'Earn 1 free month for every pro you bring who activates a subscription'), stats row (Pros invited: 3, Months earned: 1), network list with 'My network' title and gold accent bar showing 3 demo pros (Marie L. Coiffure Lausanne Active, Sofiane R. Barber Geneva Active, Emma D. Esthetique Berne Pending with status badge pills), BtnPrimary 'Invite a colleague' calling go('pro_share'). Header back arrow calls go('pro_dashboard')"
        }
      ]
    },
    {
      "id": "REQ-216",
      "summary": "Add 'My Network' entry points from ProBusinessScreen and ProDashboardScreen",
      "acceptanceCriteria": [
        "ProBusinessScreen shows a 'My Network' glass-card row calling go('pro_network')",
        "ProDashboardScreen shows the same row calling go('pro_network')",
        "Both use specified icon and text styling",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProBusinessScreen.tsx",
          "operation": "modify",
          "description": "Add 'My Network' glass-card row 64px height at bottom of scroll zone (visible on all tabs) showing IconRadar #5B7FFF 20px, label 'My Network — invite colleagues & earn rewards' Inter 500 13px #F4F4F8, subtitle '3 pros in your network' Inter 400 11px #9898B4, IconChevronRight #54546C 16px on right, calling go('pro_network') on click"
        },
        {
          "path": "frontend/src/screens/pro/ProDashboardScreen.tsx",
          "operation": "modify",
          "description": "Add 'My Network' glass-card row with same styling as ProBusinessScreen in scroll zone below next appointment card, calling go('pro_network') on click"
        }
      ]
    },
    {
      "id": "REQ-217",
      "summary": "Add pro badge system to ExplorerScreen and FicheProScreen based on pro stats",
      "acceptanceCriteria": [
        "getBadges() returns correct badges based on pro data",
        "'Top Pro' badge shown when note >= 4.8",
        "'Flash Expert' badge shown when flash === true",
        "'NEXUS Certified' badge shown when nbAvis >= 50",
        "'New' badge shown when nbAvis < 10",
        "Badges render on 'Available now' cards (bottom-left overlay)",
        "Badges render on 'Experts for you' rows (inline)",
        "Badges render on FicheProScreen below pro name",
        "PROS_DEMO entries display correct badges per their stats",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/client/ExplorerScreen.tsx",
          "operation": "modify",
          "description": "Define getBadges(pro) utility function returning badge array: 'Top Pro' (note >= 4.8, IconStar #050507 on #F2D06B), 'Flash Expert' (flash === true, IconFlash #050507 on #00D97A), 'NEXUS Certified' (nbAvis >= 50, IconShield #fff on #5B7FFF), 'New' (nbAvis < 10, #FF3D5A). Render badge pills overlaid bottom-left on 'Available now' cards and inline in 'Experts for you' rows. Verify PROS_DEMO entries (Alexandre: Top Pro + Flash Expert + NEXUS Certified, Elise: Top Pro + NEXUS Certified, Nadia: Flash Expert, Karim: Top Pro + Flash Expert, Marco: Top Pro, Clara: Flash Expert) display correct badges"
        },
        {
          "path": "frontend/src/screens/client/FicheProScreen.tsx",
          "operation": "modify",
          "description": "Import getBadges() utility from ExplorerScreen (or extract to shared util), render badge pills inline below pro name above slogan section using same pill styling as ExplorerScreen"
        }
      ]
    },
    {
      "id": "REQ-218",
      "summary": "Add pro visibility boost feature to ProDashboardScreen with 3 tiers and animated BOOST badge in ExplorerScreen",
      "acceptanceCriteria": [
        "ProDashboardScreen shows 'Boost my visibility' card with 3 tier rows",
        "Standard tier shows 'Active' status",
        "Premium and Flash 24h tiers show activate buttons",
        "Activate buttons call showToast with correct info messages",
        "Animated BOOST badge renders correctly with breathe animation",
        "ExplorerScreen shows BOOST badge overlay on qualifying pro cards",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/pro/ProDashboardScreen.tsx",
          "operation": "modify",
          "description": "Add 'Boost my visibility' glass-card section with gold left accent bar below Flash toggle card, containing 3 boost tier rows: (1) Standard 'Included in your subscription' with Active status pill rgba(0,217,122,0.1) #00D97A, (2) Premium 'Top of list for 1 week' +5 CHF/week with Activate pill button rgba(242,208,107,0.1) border rgba(242,208,107,0.3) calling showToast('Premium boost activated via TWINT — coming soon', 'info'), (3) Flash 24h 'Appear with BOOST badge in Explorer' +2 CHF/day with animated BOOST badge pill (linear-gradient(135deg, #F2D06B, #D4A050) #050507 Inter 800 9px with breathe keyframe scale 1→1.05→1 over 2s) and same Activate button calling showToast('Flash 24h boost activated via TWINT — coming soon', 'info')"
        },
        {
          "path": "frontend/src/screens/client/ExplorerScreen.tsx",
          "operation": "modify",
          "description": "For PROS_DEMO entries with flash === true AND note >= 4.8 (Alexandre, Karim), render animated BOOST pill badge (gradient #F2D06B to #D4A050, text #050507, breathe animation) overlaid at top-right corner of Available now cards. Add @keyframes breathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } } with 2s infinite animation"
        }
      ]
    },
    {
      "id": "REQ-219",
      "summary": "Add 'Express Services' section to ExplorerScreen showing flash pros with < 30 min availability",
      "acceptanceCriteria": [
        "'Express Services' section renders above 'Available now' when filter is 'All' or 'Flash'",
        "Only flash === true pros appear in the section",
        "Cards are 140x180px horizontal scroll",
        "Each card shows pro image with fallback, name, category, '< 30 min' pill, price",
        "Pulsing gold border animation active when locationActive is true",
        "When locationActive, cards sorted by Haversine distance",
        "Clicking a card calls update({ selectedPro }) then go('fiche_pro')",
        "Section hidden when filter is set to a non-flash category",
        "Zero emoji"
      ],
      "file_operations": [
        {
          "path": "frontend/src/screens/client/ExplorerScreen.tsx",
          "operation": "modify",
          "description": "Add 'Express Services' section above 'Available now', visible only when filter is 'All' or 'Flash'. Title 'Express Services' Inter 700 18px #F4F4F8 with 3px #00D97A left accent bar, subtitle '< 30 min · Available right now' Inter 400 13px #9898B4. Filter PROS_DEMO where flash === true (Alexandre, Karim, Nadia, Clara), render horizontal scroll row of 140x180px cards with gradient background linear-gradient(135deg, #0D0D13, #121219) border 1px solid rgba(0,217,122,0.15), Unsplash image 100px with gradient overlay, name/category, '< 30 min' pill rgba(0,217,122,0.1) border rgba(0,217,122,0.3) #00D97A, price. Add pulsing gold border animation (box-shadow keyframe 0 0 0 1px rgba(242,208,107,0.2) to 0 0 0 3px rgba(242,208,107,0) over 2s loop) when locationActive. Sort by Haversine when locationActive. onClick calls update({ selectedPro }) then go('fiche_pro')"
        }
      ]
    },
    {
      "id": "REQ-220",
      "summary": "Update useAppState.ts Screen union type to include new screen values",
      "acceptanceCriteria": [
        "Screen union type includes 'pro_pitch', 'pro_stats', 'pro_share', 'pro_network'",
        "go() navigates to all new screens without guards",
        "All existing screen values and state fields preserved",
        "TypeScript compiles without errors on the Screen type"
      ],
      "file_operations": [
        {
          "path": "frontend/src/state/useAppState.ts",
          "operation": "modify",
          "description": "Add 'pro_pitch' | 'pro_stats' | 'pro_share' | 'pro_network' to the Screen union type definition. Verify go() function handles all new screen values without guards. All other fields, defaults, and behaviors remain unchanged"
        }
      ]
    },
    {
      "id": "REQ-221",
      "summary": "Update App.tsx renderScreen() switch to add cases for all new screens",
      "acceptanceCriteria": [
        "App.tsx has cases for 'pro_pitch', 'pro_stats', 'pro_share', 'pro_network'",
        "Each case renders the correct screen component",
        "All props passed correctly",
        "No fallthrough between cases",
        "All 28 existing cases preserved",
        "TypeScript compiles without errors"
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Add import statements for ProPitchScreen, ProStatsScreen, ProShareScreen, ProNetworkScreen. Add four new cases to renderScreen() switch: case 'pro_pitch' returns <ProPitchScreen go={go} state={state} update={update} showToast={showToast} removeToast={removeToast} />, case 'pro_stats' returns <ProStatsScreen ... />, case 'pro_share' returns <ProShareScreen ... />, case 'pro_network' returns <ProNetworkScreen ... />. Ensure no fallthrough, all 28 existing cases preserved, default case continues to LoginScreen fallback"
        }
      ]
    }
  ]
}